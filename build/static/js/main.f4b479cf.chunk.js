(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAADv0lEQVRoge2ZSWgVWRSG/4qJQyLiPKRpRVCIMaBxaBVF6A72wmEp6EJU3Lpx4bSRJyo0tBJxAEFBBKUX4sahu9VF04JBEJQ4ggMGlWgENcY4x3y9qFOda/EGq+olUagf3qJu3fOf/69z69StelKKFClSpEgRH15PJAH6SKqRVC1pqKQOSc2SHkm65nleZ0/oiA1gBnAIaCU3WoCDwMwkubqlIsAoSfWSljk57kpqlNQiqVRSpaQqSRODMEnHJW30PK+pO3RFAjAfaLar/QLYBozLM38SsANot5jnQF1Pas4mqg54a4L+AEZGiB0NHLfYT8Dy7tSaT0gV8NqEbI7J4QFbjOMdMLvYOoNEA4BpwM/ABGe8FGg0AduLkGencTUDg5LyucTjgSPAm1DHuQUsBdba8QWgpAj5+gD/Gue2YngQ8KvTPj/blf8HaHIMfbZfdVGS+nmnA53WBIYnJZvidJMjwA+h8/OcJXUyUbLs+U8b95qkRBeN6Pc8cwZahRYnSpade3XiiwTUGsl9oKzA3AqgNDQ2GdgD3LSqtgM3gHpgcmhuJgdvpWloSWJknZFE6kJAf2Cv3TO50GEmy4AMQA4uD/hg90rfOCbqgKuWdFVEE+ct7r2J/Qkot6rNAvaZOIB7gbM8nA9tyo9RDFQ6Nxi2HBZFiN9ncc1AbZ5504E2t0R55rbYlHpgCdCvkIhJjvsHwEqgPIKJGlsCH4CpBeZmwmstx7wyW4YungGbyHbfAiNMPMAJYODXGnA4gmrsjWoij5FSq948YAX+/u2jhVzG32V/EXDMTv5NqPtEMHLTOObEiY+QZwJwyXLdJtjC4LfJTuAVMKY7RRQL+E3lgpk5GgzusoH6XtYXCfjb/jYrwlQBV8zI/F4QM8dyN8aM/83idwt4aQdDEorKhkyBmP3/C4mXc5bFXxf+gwsK9efCpFFNTMNv1bF3zcBgy9XqPjnHxnLQReriIeHW+OXcWuBJkmoYT4VxtAs4ZwfL4hIaaYDg3eU5sNWufIX9ZuM/b4JVcJY4e6iunDXGc0d0vd2dKYKRDDASOJNlqbnoAHaTfDlvML7DAoY5V/GXBKSZ0PFc4AD+63Cwjb9uBqqSGDD+cuCx6V4YDAbOngLjkybpCQCHTXMD4AWDJcApx0zvfiDLA6tEYOIV4Y6H/8oamAH4E1gOjEtyQxYDJr7GVk6wnNqABbkCSoD1dD0kv1U0EKpE1o/YwDD5H6CXyP8rYJSk3qzKW0mPJTXI/9D9l+d5OV/GUqRIkSJFihTfO/4DjfWPIrOMiNgAAAAASUVORK5CYII="},,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAClElEQVRoge3ZTYhNYRwG8J8xyFCk8b2SpBilJJMNidQ0C1EWys6GKGx8pS7ZS1I2ssBCNrIiZUPMpFiSb/kqFozPYWgs3nMMx8w9M+ecuXMX56mn2z299/k/zznveb8uJUqUKFGiRHaMqmGtOViAKfiFl3iFxzX0kBmLcAyv0TsAH+MoFo6Qx6qYgbPCnR8oQJI/cQqzRsBvv1iLtwYfIMk3WF5z1wlsxA/ZQ8Tsxroae/+D5fieYnAo/Iqlw2V2UmR4NRajMbo+WegSRYWI+QxNRQZYhIv+7zbvcBgnhyFEzP1FhdiEb8NoNI1dQk/IhTXoGcEQMTflCTEWT+ogRC/O5wmyPmfxh9iFFkyIuDC6di/RtpKi9TRPkOMZA/Rgn74RrT80Yq8w81eia9U0u2VYFzZhp2yzcw82RDrjsAOd+ByxE9uFbsu/66s07eahhGjFowwBYh6MdGbiTpV2tzA+UTtN+xy2YlpaiDZhNs0a4qnQZcamhIjfiSQGW6cbJwwwJLfgU44QvdgTaW3NEGIoQWI+wby/BRrQkTNEL5ZEejcK0BosX2F6HKS9hoWHg5fiIBfqwExeLmvACiOH68L80JpTZ3MDpub3g2AoyUMpvzkTfa7KWXslxT3eJCop7TuF4bpROIDIU/sD+eaOgYLMxfsqbW/rm9j2FlD7s0i0yCATo8/pOIK7+pYoHdiGMVGbdsXs8R/AgQKDVPBCep8fjd2K2+Ofhtn4UoBYJfH9GrZgvr5lfIuwIL1fUICYbfEdOlSwcC15019L/EZcrQNTQ2WXcJ78DybhSh2YGyw/CmcK/WK0sLvrqgOjad3pvyfRH5qFndxlPFfsCWIWfhGG2NPCi13Lv0NKlChRokSJEjXHb8Oh2ynJDyK5AAAAAElFTkSuQmCC"},,,,function(e,t,n){e.exports=n(44)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(19),r=n.n(c),i=(n(30),n(2)),s=n(3),l=n(5),u=n(4),d=n(6),m=(n(31),encodeURIComponent("user-library-read user-read-email")),f="".concat("https","://").concat("accounts.spotify.com/authorize","?response_type=").concat("token","&client_id=").concat("0101449c5fe04ff283e5e973299c1ee8","&scope=").concat(m,"&redirect_uri=").concat("https://lockify.herokuapp.com/dashboard","&state=123"),h=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"title-container"},o.a.createElement("div",{className:"title login animated fadeInDown"},"Lockify"),o.a.createElement("div",{className:"description login animated fadeInDown"},"Backup your Spotify playist for free access to recently deleted songs.")),o.a.createElement("button",{onClick:function(){return window.location.href=f},className:"login-button main-button animated fadeInDown"},"Login With Spotify"))}}]),t}(a.Component),g=(n(32),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"title animated fadeInDown saved-user"},"Thank You"),o.a.createElement("div",{className:"description animated fadeInDown margin saved-user"},"Click the button below to access the dashboard."),o.a.createElement("button",{onClick:function(){return window.location.reload()},className:"dashboard-button main-button animated fadeInDown"},"Dashboard"))}}]),t}(a.Component)),p=(n(33),n(20)),b=n.n(p),A=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"spinner-container"},o.a.createElement(b.a,{type:"spinningBubbles",color:"white",width:250,height:250,className:"spinner"}))}}]),t}(a.Component),y=(n(34),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"new-user-hello animated fadeInDown"},"Hello ",this.props.username,"!"),o.a.createElement("div",{className:"no-back-up animated fadeInDown"},"Your songs are not yet backed up."),o.a.createElement("div",{className:"get-started animated fadeInDown"},"Click the button below to get started!"),o.a.createElement("button",{onClick:function(){return e.props.storeSongs()},className:"backup-button animated fadeInDown main-button"},"Store My Music"))}}]),t}(a.Component)),w=n(14),E=n.n(w),v=n(21),k=n.n(v),O=(n(35),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).sync=o.a.createRef(),setTimeout(function(){e.sync.current.classList.remove("animated")},500),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"syncOnHover",value:function(e){e.target.src=k.a,e.target.classList.add("hover")}},{key:"syncOnOut",value:function(e){e.target.src=E.a,e.target.classList.remove("hover")}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"header"},o.a.createElement("button",{onClick:function(){return e.props.updateSongs()},className:"dash-backup-button main-button animated fadeInDown"},"Update"),o.a.createElement("button",{onClick:function(){return e.props.deleteAccount()},className:"delete-button main-button animated fadeInDown"},"Delete"),o.a.createElement("img",{onClick:function(){return e.props.sync()},src:E.a,onMouseOver:this.syncOnHover,onMouseOut:this.syncOnOut,className:"sync animated fadeInDown",alt:"Sync",ref:this.sync}))}}]),t}(a.Component)),S=(n(36),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"card",onClick:function(){return window.open(e.props.song.URL,"_blank")}},o.a.createElement("div",{className:"card-image"},o.a.createElement("img",{src:this.props.song.Image.url,alt:"Album"})),o.a.createElement("div",{className:"card-song-title"},this.props.song.Name),o.a.createElement("div",{className:"card-song-artist"},this.props.song.Artist.name))}}]),t}(a.Component)),j=(n(37),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={loading:!0,deleted_songs:[]},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getUser(),this.deleteAccount=this.deleteAccount.bind(this),this.updateSongs=this.updateSongs.bind(this),this.storeSongs=this.storeSongs.bind(this),this.sync=this.sync.bind(this)}},{key:"getToken",value:function(){return window.location.href.match(/#(?:access_token)=([\S\s]*?)&/)[1]}},{key:"getUser",value:function(){var e=this,t={headers:{Authorization:"Bearer ".concat(this.getToken())}};fetch("https://api.spotify.com/v1/me",t).then(function(e){return 401===e.status&&(window.location.href=f),e.ok?e.json():Error(e.statusText)}).then(function(t){localStorage.getItem("lockify-".concat(t.id))?(e.setState({user:t.id,new_user:!1}),e.getDeletedSongs()):e.setState({user:t.id,new_user:!0,loading:!1})}).catch(function(e){return console.log(e)})}},{key:"storeSongs",value:function(){this.setState({loading:!0});var e=this,t=[];(function n(a){var o={headers:{Authorization:"Bearer ".concat(e.getToken())}};return new Promise(function(e,c){fetch(a,o).then(function(e){return 401===e.status&&(window.location.href=f),e.ok?e.json():Error(e.statusText)}).then(function(a){a.items.forEach(function(e){t.push({Name:e.track.name,Artist:e.track.artists[0],Image:e.track.album.images[0],URL:e.track.external_urls.spotify})}),e(a.next?n(a.next):"")}).catch(function(e){return c(e)})})})("https://api.spotify.com/v1/me/tracks?limit=50").then(function(){var n=JSON.stringify(t);localStorage.setItem("lockify-".concat(e.state.user),n),e.setState({loading:!1,new_user:!1,new_user_saved:!0})}).catch(function(e){return console.log(e)})}},{key:"updateSongs",value:function(){window.confirm("This will override your backed-up songs with your current Spotify playlist.\n\nContinue?")&&this.storeSongs()}},{key:"getDeletedSongs",value:function(){var e=this,t=localStorage.getItem("lockify-".concat(e.state.user));if(t){t=JSON.parse(t);var n=[];(function t(a){var o={headers:{Authorization:"Bearer ".concat(e.getToken())}};return new Promise(function(e,c){fetch(a,o).then(function(e){return 401===e.status&&(window.location.href=f),e.ok?e.json():Error(e.statusText)}).then(function(a){a.items.forEach(function(e){n.push(e.track.name)}),e(a.next?t(a.next):"")}).catch(function(e){return c(e)})})})("https://api.spotify.com/v1/me/tracks?limit=50").then(function(){var a=t.filter(function(e){return!n.includes(e.Name)});e.setState({loading:!1,deleted_songs:a})}).catch(function(e){return console.log(e)})}}},{key:"sync",value:function(){this.setState({loading:!0}),this.getDeletedSongs()}},{key:"deleteAccount",value:function(){window.confirm("Are you sure you want to delete your Lockify account?\n\nAll of your data will be deleted.")&&(localStorage.removeItem("lockify-".concat(this.state.user)),window.location.href=window.location.origin)}},{key:"renderCards",value:function(){return 0===this.state.deleted_songs.length?o.a.createElement("div",{className:"description"},"No songs have been deleted since your last backup ",o.a.createElement("span",{role:"img","aria-label":":)"},"\ud83d\ude42")):this.state.deleted_songs.map(function(e,t){return o.a.createElement(S,{key:t,song:e})})}},{key:"render",value:function(){return this.state.loading?o.a.createElement(A,null):this.state.new_user?o.a.createElement(y,{username:this.state.user,storeSongs:this.storeSongs}):this.state.new_user_saved?o.a.createElement(g,null):o.a.createElement("div",null,o.a.createElement(O,{updateSongs:this.updateSongs,sync:this.sync,deleteAccount:this.deleteAccount}),o.a.createElement("div",{className:"deleted-container"},o.a.createElement("div",{className:"title animated fadeInDown"},"Songs you've deleted since ",new Date(this.state.user.updated).toLocaleDateString()),o.a.createElement("br",null),o.a.createElement("div",{className:"animated fadeInUp cards-container"},this.renderCards())))}}]),t}(a.Component)),D=(n(38),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("footer",null,o.a.createElement("ul",{className:"media-list"},o.a.createElement("li",null,o.a.createElement("a",{href:"https://www.linkedin.com/in/tim-dirusso/",target:"_blank",rel:"noopener noreferrer"},"LinkedIn")),o.a.createElement("li",null,o.a.createElement("a",{href:"https://github.com/tdirusso",target:"_blank",rel:"noopener noreferrer"},"GitHub")),o.a.createElement("li",null,o.a.createElement("a",{href:"https://twitter.com/timdirusso",target:"_blank",rel:"noopener noreferrer"},"Twitter")),o.a.createElement("li",null,o.a.createElement("a",{href:"mailto:timgdirusso@gmai.com?Subject=Lockify Inquiry",target:"_top"},"Contact"))))}}]),t}(a.Component)),N=n(22),I=n(10),C=document.getElementById("root"),J=window.location.href.match(/#(?:access_token)=([\S\s]*?)&/);r.a.render(o.a.createElement(N.a,null,o.a.createElement("div",null,o.a.createElement(I.d,null,o.a.createElement(I.b,{exact:!0,path:"/dashboard",component:function(){return J?o.a.createElement(j,null):o.a.createElement(I.a,{to:"/"})}}),o.a.createElement(I.b,{component:h})),o.a.createElement(D,null))),C)}],[[25,1,2]]]);
//# sourceMappingURL=main.f4b479cf.chunk.js.map